<<<<<<< HEAD
{"version":3,"sources":["novaramedia-shareables.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","$","jQuery","Shareables","this","container","$recentPostsSelect","$postIdInput","$postTitleField","$postImageField","$postTextField","$postUrlField","canvas","ShareableCanvas","bind","val","getPostData","setUrlFromSelect","value","_this","on","generateShareable","downloadShareable","_this2","postID","undefined","alert","data","action","postId","ajax","url","ShareableVars","ajaxurl","type","success","response","ajaxSuccess","status","console","error","fillData","postData","text","tmp","document","createElement","innerHTML","textContent","innerText","post_title","post_image","stripHTML","post_content","post_permalink","_this3","stage","clear","update","title","image","fontSize","addQuotes","is","link","loadedImage","Image","src","onload","event","drawBackground","addImage","addQuote","addTitle","addUrl","addLogo","filename","toSlug","getElementById","href","toDataURL","download","toLowerCase","replace","window","load"],"mappings":"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","file":"../../novaramedia-shareables.min.js","sourcesContent":["'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/* jshint browser: true, devel: true, indent: 2, curly: true, eqeqeq: true, futurehostile: true, latedef: true, undef: true, unused: true, esversion: 6 */\n\nvar $ = jQuery;\n\nvar Shareables = function () {\n  function Shareables() {\n    _classCallCheck(this, Shareables);\n\n    this.container = $('.shareable-container');\n\n    this.$recentPostsSelect = $('#shareable-post-latest-select');\n    this.$postIdInput = $('#shareable-post-id');\n\n    this.$postTitleField = $('#shareable-post-title');\n    this.$postImageField = $('#shareable-post-image');\n    this.$postTextField = $('#shareable-post-text');\n    this.$postUrlField = $('#shareable-post-url');\n\n    this.canvas = new ShareableCanvas({\n      'container': 'canvas-container'\n    });\n\n    // Bind stuff\n    this.bind();\n\n    if (!!this.$postIdInput.val()) {\n      this.getPostData();\n    } else {\n      this.setUrlFromSelect();\n    }\n  }\n\n  _createClass(Shareables, [{\n    key: 'bind',\n    value: function bind() {\n      var _this = this;\n\n      // Latest Posts dropdown\n      this.$recentPostsSelect.on('change', function () {\n        return _this.setUrlFromSelect();\n      });\n\n      // Get data button\n      $('#get-post-data').on('click', function () {\n        return _this.getPostData();\n      });\n\n      // Generate shareable button\n      $('#generate-shareable').on('click', function () {\n        return _this.generateShareable();\n      });\n\n      // Download button\n      $('#download-shareable').on('click', function () {\n        return _this.downloadShareable();\n      });\n    }\n  }, {\n    key: 'setUrlFromSelect',\n    value: function setUrlFromSelect() {\n\n      this.$postIdInput.val(this.$recentPostsSelect.val());\n      this.getPostData();\n    }\n  }, {\n    key: 'getPostData',\n    value: function getPostData() {\n      var _this2 = this;\n\n      var postID = this.$postIdInput.val();\n\n      if (postID === undefined) {\n        return alert('Invalid post ID');\n      }\n\n      var data = {\n        'action': 'get_post_data',\n        'postId': postID\n      };\n\n      jQuery.ajax({\n        url: ShareableVars.ajaxurl,\n        type: 'get',\n        data: data,\n        success: function success(response) {\n          return _this2.ajaxSuccess(response, status);\n        }\n      });\n    }\n  }, {\n    key: 'ajaxSuccess',\n    value: function ajaxSuccess(response, status) {\n      if (!response) {\n\n        console.error(response.error);\n        alert(response.error);\n      } else if (response.type !== 'success') {\n\n        console.error(response.error);\n        alert(response.error);\n      } else if (response.type === 'success') {\n\n        this.fillData(response.postData);\n        this.generateShareable();\n      }\n    }\n  }, {\n    key: 'stripHTML',\n    value: function stripHTML(text) {\n      var tmp = document.createElement(\"DIV\");\n\n      tmp.innerHTML = text;\n\n      return tmp.textContent || tmp.innerText || \"\";\n    }\n  }, {\n    key: 'fillData',\n    value: function fillData(data) {\n      // Set title\n      this.$postTitleField.val(data.post_title);\n\n      // Set image\n      this.$postImageField.val(data.post_image);\n\n      // Set text\n      this.$postTextField.val(this.stripHTML(data.post_content));\n\n      // Set URL\n      this.$postUrlField.val(data.post_permalink);\n    }\n  }, {\n    key: 'generateShareable',\n    value: function generateShareable() {\n      var _this3 = this;\n\n      // Clean the canvas\n      this.canvas.stage.clear();\n      this.canvas.update();\n\n      // Get title\n      var title = this.$postTitleField.val();\n\n      // Get image\n      var image = this.$postImageField.val();\n\n      // Get text\n      var text = this.$postTextField.val();\n\n      // Get font size\n      var fontSize = $('input[name=shareable-font-size]:checked').val();\n\n      // Add quotes?\n      var addQuotes = false;\n\n      if ($('#shareable-checkbox-boolean').is(':checked')) {\n        addQuotes = true;\n      }\n\n      // Get URL\n      var link = this.$postUrlField.val();\n\n      var loadedImage = new Image();\n      loadedImage.src = image;\n\n      loadedImage.onload = function (event) {\n\n        _this3.canvas.drawBackground();\n\n        _this3.canvas.addImage(image);\n\n        _this3.canvas.addQuote(text, fontSize, addQuotes);\n\n        _this3.canvas.addTitle(title);\n\n        _this3.canvas.addUrl(link);\n\n        _this3.canvas.addLogo();\n      };\n    }\n  }, {\n    key: 'downloadShareable',\n    value: function downloadShareable() {\n      var filename = this.toSlug(this.$postTitleField.val()) + '-post-shareable.png';\n      var link = document.getElementById('download-shareable');\n      link.href = this.canvas.canvas.toDataURL();\n      link.download = filename;\n    }\n  }, {\n    key: 'toSlug',\n    value: function toSlug(text) {\n      return text.toLowerCase().replace(/ /g, '-').replace(/[^\\w-]+/g, '');\n    }\n  }]);\n\n  return Shareables;\n}();\n\n;\n\njQuery(window).load(function () {\n  var shareables = new Shareables();\n});"]}
=======
{"version":3,"sources":["novaramedia-shareables.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","$","jQuery","Shareables","this","container","$recentPostsSelect","$postIdInput","$postTitleField","$postImageField","$postTextField","$postUrlField","canvas","ShareableCanvas","bind","val","getPostData","setUrlFromSelect","value","_this","on","generateShareable","downloadShareable","_this2","postID","undefined","alert","data","action","postId","ajax","url","ShareableVars","ajaxurl","type","success","response","ajaxSuccess","status","console","error","fillData","postData","text","tmp","document","createElement","innerHTML","textContent","innerText","post_title","post_image","stripHTML","post_content","post_permalink","_this3","stage","clear","update","title","image","link","loadedImage","Image","src","onload","event","drawBackground","addImage","addQuote","addTitle","addUrl","addLogo","filename","toSlug","getElementById","href","toDataURL","download","toLowerCase","replace","window","load"],"mappings":"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","file":"../../novaramedia-shareables.min.js","sourcesContent":["'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/* jshint browser: true, devel: true, indent: 2, curly: true, eqeqeq: true, futurehostile: true, latedef: true, undef: true, unused: true, esversion: 6 */\n\nvar $ = jQuery;\n\nvar Shareables = function () {\n  function Shareables() {\n    _classCallCheck(this, Shareables);\n\n    this.container = $('.shareable-container');\n\n    this.$recentPostsSelect = $('#shareable-post-latest-select');\n    this.$postIdInput = $('#shareable-post-id');\n\n    this.$postTitleField = $('#shareable-post-title');\n    this.$postImageField = $('#shareable-post-image');\n    this.$postTextField = $('#shareable-post-text');\n    this.$postUrlField = $('#shareable-post-url');\n\n    this.canvas = new ShareableCanvas({\n      'container': 'canvas-container'\n    });\n\n    // Bind stuff\n    this.bind();\n\n    if (!!this.$postIdInput.val()) {\n      this.getPostData();\n    } else {\n      this.setUrlFromSelect();\n    }\n  }\n\n  _createClass(Shareables, [{\n    key: 'bind',\n    value: function bind() {\n      var _this = this;\n\n      // Latest Posts dropdown\n      this.$recentPostsSelect.on('change', function () {\n        return _this.setUrlFromSelect();\n      });\n\n      // Get data button\n      $('#get-post-data').on('click', function () {\n        return _this.getPostData();\n      });\n\n      // Generate shareable button\n      $('#generate-shareable').on('click', function () {\n        return _this.generateShareable();\n      });\n\n      // Download button\n      $('#download-shareable').on('click', function () {\n        return _this.downloadShareable();\n      });\n    }\n  }, {\n    key: 'setUrlFromSelect',\n    value: function setUrlFromSelect() {\n\n      this.$postIdInput.val(this.$recentPostsSelect.val());\n      this.getPostData();\n    }\n  }, {\n    key: 'getPostData',\n    value: function getPostData() {\n      var _this2 = this;\n\n      var postID = this.$postIdInput.val();\n\n      if (postID === undefined) {\n        return alert('Invalid post ID');\n      }\n\n      var data = {\n        'action': 'get_post_data',\n        'postId': postID\n      };\n\n      jQuery.ajax({\n        url: ShareableVars.ajaxurl,\n        type: 'get',\n        data: data,\n        success: function success(response) {\n          return _this2.ajaxSuccess(response, status);\n        }\n      });\n    }\n  }, {\n    key: 'ajaxSuccess',\n    value: function ajaxSuccess(response, status) {\n      if (!response) {\n\n        console.error(response.error);\n        alert(response.error);\n      } else if (response.type !== 'success') {\n\n        console.error(response.error);\n        alert(response.error);\n      } else if (response.type === 'success') {\n\n        this.fillData(response.postData);\n        this.generateShareable();\n      }\n    }\n  }, {\n    key: 'stripHTML',\n    value: function stripHTML(text) {\n      var tmp = document.createElement(\"DIV\");\n\n      tmp.innerHTML = text;\n\n      return tmp.textContent || tmp.innerText || \"\";\n    }\n  }, {\n    key: 'fillData',\n    value: function fillData(data) {\n      // Set title\n      this.$postTitleField.val(data.post_title);\n\n      // Set image\n      this.$postImageField.val(data.post_image);\n\n      // Set text\n      this.$postTextField.val(this.stripHTML(data.post_content));\n\n      // Set URL\n      this.$postUrlField.val(data.post_permalink);\n    }\n  }, {\n    key: 'generateShareable',\n    value: function generateShareable() {\n      var _this3 = this;\n\n      // Clean the canvas\n      this.canvas.stage.clear();\n      this.canvas.update();\n\n      // Get title\n      var title = this.$postTitleField.val();\n\n      // Get image\n      var image = this.$postImageField.val();\n\n      // Get text\n      var text = this.$postTextField.val();\n\n      // Get URL\n      var link = this.$postUrlField.val();\n\n      var loadedImage = new Image();\n      loadedImage.src = image;\n\n      loadedImage.onload = function (event) {\n\n        _this3.canvas.drawBackground();\n\n        _this3.canvas.addImage(image);\n\n        _this3.canvas.addQuote(text);\n\n        _this3.canvas.addTitle(title);\n\n        _this3.canvas.addUrl(link);\n\n        _this3.canvas.addLogo();\n      };\n    }\n  }, {\n    key: 'downloadShareable',\n    value: function downloadShareable() {\n      var filename = this.toSlug(this.$postTitleField.val()) + '-post-shareable.png';\n      var link = document.getElementById('download-shareable');\n      link.href = this.canvas.canvas.toDataURL();\n      link.download = filename;\n    }\n  }, {\n    key: 'toSlug',\n    value: function toSlug(text) {\n      return text.toLowerCase().replace(/ /g, '-').replace(/[^\\w-]+/g, '');\n    }\n  }]);\n\n  return Shareables;\n}();\n\n;\n\njQuery(window).load(function () {\n  var shareables = new Shareables();\n});"]}
>>>>>>> master
