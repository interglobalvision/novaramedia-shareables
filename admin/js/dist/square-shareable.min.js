"use strict";function _classCallCheck(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,a){for(var n=0;n<a.length;n++){var t=a[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(a,n,t){return n&&e(a.prototype,n),t&&e(a,t),a}}(),$=jQuery,SquareShareables=function(){function e(){_classCallCheck(this,e),this.container=$(".shareable-container"),this.$inputImageField=$("#input-image"),this.$inputTextField=$("#input-text"),this.canvas=new ShareableCanvas({container:"canvas-container"}),this.bind()}return _createClass(e,[{key:"bind",value:function(){var e=this;$("#generate-shareable").on("click",function(){return e.generateShareable()}),$("#download-shareable").on("click",function(){return e.downloadShareable()})}},{key:"generateShareable",value:function(){var e=this;this.canvas.stage.clear(),this.canvas.update();var a=this.$inputImageField;0===a[0].files.length&&console.log("no file");var n=this.$inputTextField.val(),t=$("input[name=shareable-font-size]:checked").val(),r=!1;$("#shareable-checkbox-boolean").is(":checked")&&(r=!0);var o=new FileReader;o.onload=function(a){var o=new Image;o.crossOrigin="Anonymous",o.onload=function(a){e.canvas.drawBackground(),e.canvas.addImage(o),e.canvas.addQuote(n,t,r),e.canvas.addLogo()},o.src=a.target.result},o.readAsDataURL(a[0].files[0])}},{key:"downloadShareable",value:function(){var e=this.toSlug(this.$postTitleField.val())+"-post-shareable.png",a=document.getElementById("download-shareable");a.href=this.canvas.canvas.toDataURL(),a.download=e}},{key:"toSlug",value:function(e){return e.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,"")}}]),e}();jQuery(window).load(function(){new SquareShareables});
//# sourceMappingURL=sourcemaps/square-shareable.js.map
