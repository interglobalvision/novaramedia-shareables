{"version":3,"sources":["shareable-canvas.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","ShareableCanvas","options","_this","this","initialized","changed","container","canvas","document","getElementById","fingers","stage","createjs","Stage","addEventListener","event","stageMouseDown","stagePressMove","stagePressUp","Touch","enable","value","pointerID","start","x","stageX","y","stageY","current","old","calculateActiveFingers","dispatchEvent","undefined","localX","local","localY","update","self","activeFingers","points","k","push","point1","point2","startAngle","Math","atan2","PI","currentAngle","angle","currentTarget","rotation","distance","getDistance","scale","scaleX","scaleY","average","max","circle","Shape","graphics","beginFill","drawCircle","addChild","background","drawRect","width","path","fixSize","_this2","image","Image","src","onload","loadedImage","addImage","alpha","fittingRatio","_this3","bitmap","Bitmap","bounds","getBounds","ratio","height","savePosition","transform","p1","p2","sqrt","midPoint","sourceText","fontSize","addQuotes","text","quote","Text","textBaseline","lineWidth","lineHeight","titleText","title","urlLink","url","rawtext","textAlign","tagUrl","_this4","ShareableVars","pluginurl","logo"],"mappings":"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","file":"../shareable-canvas.js","sourcesContent":["'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/* jshint browser: true, devel: true, indent: 2, curly: true, eqeqeq: true, futurehostile: true, latedef: true, undef: true, unused: true, esversion: 6 */\n/* global $, document, Modernizr */\nvar ShareableCanvas = function () {\n  // This is the Constructor\n  // it run when an instance is created\n  function ShareableCanvas(options) {\n    var _this = this;\n\n    _classCallCheck(this, ShareableCanvas);\n\n    this.initialized = true;\n    this.changed = false;\n\n    this.container = options.container;\n\n    this.canvas = document.getElementById(options.container);\n\n    this.fingers = [];\n    this.stage = new createjs.Stage(this.container);\n\n    //createjs.Ticker.addEventListener('tick', event =>  this.update(event));\n\n    this.stage.addEventListener('mousedown', function (event) {\n      return _this.stageMouseDown(event);\n    });\n    this.stage.addEventListener('pressmove', function (event) {\n      return _this.stagePressMove(event);\n    });\n    this.stage.addEventListener('pressup', function (event) {\n      return _this.stagePressUp(event);\n    });\n\n    createjs.Touch.enable(this.stage);\n  }\n\n  // store initial touchpoint-position\n\n\n  _createClass(ShareableCanvas, [{\n    key: 'stageMouseDown',\n    value: function stageMouseDown(event) {\n\n      this.fingers[event.pointerID] = {\n        start: { x: event.stageX, y: event.stageY },\n        current: { x: event.stageX, y: event.stageY },\n        old: { x: event.stageX, y: event.stageY }\n      };\n\n      this.calculateActiveFingers();\n\n      this.stage.dispatchEvent('start');\n    }\n\n    // update touchpoint-positions\n\n  }, {\n    key: 'stagePressMove',\n    value: function stagePressMove(event) {\n      var pointerID = event.pointerID;\n\n      this.fingers[pointerID].current.x = event.stageX;\n      this.fingers[pointerID].current.y = event.stageY;\n\n      if (event.localX !== undefined) {\n        this.fingers[pointerID]['local'] = {\n          x: null,\n          y: null\n        };\n\n        this.fingers[pointerID].local.x = event.localX;\n        this.fingers[pointerID].local.y = event.localY;\n      }\n\n      this.calculateActiveFingers();\n\n      this.changed = true;\n      this.update();\n    }\n  }, {\n    key: 'stagePressUp',\n    value: function stagePressUp(event) {\n\n      if (this.fingers[event.pointerID]) {\n        delete this.fingers[event.pointerID];\n      }\n\n      this.calculateActiveFingers();\n      this.stage.dispatchEvent('complete');\n      this.update();\n    }\n  }, {\n    key: 'enterFrame',\n    value: function enterFrame(event) {\n      this.stage.dispatchEvent('update');\n      if (this.changed) {\n        this.changed = false;\n\n        for (var pointerID in self.fingers) {\n          if (self.fingers[pointerID].start) {\n            self.fingers[pointerID].old.x = self.fingers[pointerID].current.x;\n            self.fingers[pointerID].old.y = self.fingers[pointerID].current.y;\n          }\n        }\n      }\n    }\n  }, {\n    key: 'calculateActiveFingers',\n    value: function calculateActiveFingers() {\n      this.activeFingers = 0;\n\n      for (var pointerID in this.fingers) {\n        if (this.fingers[pointerID].start) {\n          this.activeFingers++;\n        }\n      }\n    }\n  }, {\n    key: 'update',\n    value: function update(event) {\n      this.stage.update();\n    }\n  }, {\n    key: 'transform',\n    value: function transform(event) {\n      if (this.activeFingers > 1) {\n        var points = [];\n\n        // extract touchpoints\n        for (var k in this.fingers) {\n          if (this.fingers[k].current) {\n            points.push(this.fingers[k]);\n            if (points.length >= 2) break;\n          }\n        }\n\n        // ---------------------------------------- Rotation\n        // calculate initial angle\n        var point1 = points[0].old;\n        var point2 = points[1].old;\n        var startAngle = Math.atan2(point1.y - point2.y, point1.x - point2.x) * (180 / Math.PI);\n\n        // calculate new angle\n        point1 = points[0].current;\n        point2 = points[1].current;\n        var currentAngle = Math.atan2(point1.y - point2.y, point1.x - point2.x) * (180 / Math.PI);\n\n        var angle = currentAngle - startAngle;\n\n        // i was trying to make it rotate from the center of the fingers as origin\n        /*\n           if( points[0].local !== undefined && points[1].local !== undefined ) {\n        // calculate center point\n        point1 = points[0].local;\n        point2 = points[1].local;\n        console.log('point1', point1);\n        let midPoint = this.getMidPoint(point1, point2);\n        let bounds = event.currentTarget.getBounds();\n        event.currentTarget.regX = bounds.width / 2;//midPoint.x;\n        event.currentTarget.regY = bounds.height / 2;//midPoint.y;\n        //console.log('Mid point', midPoint);\n        }\n        */\n\n        // set rotation based on difference between the two angles\n        event.currentTarget.rotation += angle * 0.02;\n\n        this.stage.dispatchEvent('rotate');\n\n        // ---------------------------------------- Scale\n        var distance = this.getDistance(points[0].current, points[1].current) / this.getDistance(points[0].old, points[1].old);\n        //console.log('Distance', distance);\n\n        if (distance > 1.01 || distance < 0.9) {\n          distance = 1 - distance;\n\n          var scale = event.currentTarget.scaleX * distance * -0.02;\n\n          //console.log('Scale', scale);\n          //console.log('Current Scale', event.currentTarget.scaleX);\n\n          event.currentTarget.scaleX += scale;\n\n          //console.log('Scaling: ' + event.currentTarget.scaleX + '+ (' + (scale-1) + ') = ' + finalScale);\n\n          event.currentTarget.scaleY = event.currentTarget.scaleX;\n\n          this.stage.dispatchEvent('scale');\n        }\n      }\n\n      // ---------------------------------------- Movement\n      var average = { x: 0, y: 0 };\n\n      // caluclate average movement between all points\n      var index = 0;\n      for (var pointerID in this.fingers) {\n        if (this.fingers[pointerID].start) {\n          //console.log('pointerID', pointerID );\n          //console.log('current x', this.fingers[pointerID].current.x );\n          //console.log('old x', this.fingers[pointerID].old.x );\n          average.x += this.fingers[pointerID].current.x - this.fingers[pointerID].old.x;\n          average.y += this.fingers[pointerID].current.y - this.fingers[pointerID].old.y;\n        }\n      }\n\n      average.x /= Math.max(1, this.activeFingers);\n      average.y /= Math.max(1, this.activeFingers);\n\n      // set new positions\n      event.currentTarget.x = event.currentTarget.localX + average.x;\n      event.currentTarget.y = event.currentTarget.localY + average.y;\n\n      this.stage.dispatchEvent('move');\n    }\n  }, {\n    key: 'savePosition',\n    value: function savePosition(event) {\n      // Put current object position\n      event.currentTarget.localX = event.currentTarget.x;\n      event.currentTarget.localY = event.currentTarget.y;\n    }\n  }, {\n    key: 'drawCircle',\n    value: function drawCircle() {\n      var circle = new createjs.Shape();\n\n      circle.graphics.beginFill(\"DeepSkyBlue\").drawCircle(0, 0, 50);\n      circle.x = 100;\n      circle.y = 100;\n\n      this.stage.addChild(circle);\n      this.update();\n    }\n  }, {\n    key: 'drawBackground',\n    value: function drawBackground() {\n      var background = new createjs.Shape();\n\n      background.graphics.beginFill(\"Black\").drawRect(0, 0, this.canvas.width, this.canvas.width);\n      this.stage.addChild(background);\n      this.update();\n    }\n  }, {\n    key: 'loadImage',\n    value: function loadImage(path, fixSize) {\n      var _this2 = this;\n\n      var that = this;\n      var image = new Image();\n      image.src = path;\n\n      image.onload = function (event, fixSize) {\n        var loadedImage = event.target;\n        _this2.addImage(loadedImage);\n      };\n    }\n  }, {\n    key: 'addImage',\n    value: function addImage(image, alpha, fittingRatio) {\n      var _this3 = this;\n\n      var bitmap = new createjs.Bitmap(image);\n\n      bitmap.alpha = alpha;\n\n      var bounds = bitmap.getBounds();\n\n      var ratio = bounds.height / bounds.width;\n\n      // checking shape of source image to either fit height or width. based on 1200x627 px canvas\n      if (ratio > fittingRatio) {\n        var scale = this.canvas.width / bounds.width;\n      } else {\n        var scale = this.canvas.height / bounds.height;\n      }\n\n      bitmap.scaleY = scale;\n      bitmap.scaleX = scale;\n\n      bitmap.addEventListener('mousedown', function (event) {\n        return _this3.savePosition(event);\n      });\n      bitmap.addEventListener('pressmove', function (event) {\n        return _this3.transform(event);\n      });\n\n      this.stage.addChild(bitmap);\n\n      this.update();\n    }\n  }, {\n    key: 'getDistance',\n    value: function getDistance(p1, p2) {\n      var x = p2.x - p1.x;\n      var y = p2.y - p1.y;\n\n      return Math.sqrt(x * x + y * y);\n    }\n  }, {\n    key: 'getMidPoint',\n    value: function getMidPoint(p1, p2) {\n      var midPoint = {\n        x: null,\n        y: null\n      };\n\n      midPoint.x = p1.x + p2.x / 2;\n      midPoint.y = p1.y + p2.y / 2;\n\n      return midPoint;\n    }\n  }, {\n    key: 'addQuote',\n    value: function addQuote(sourceText, fontSize, addQuotes) {\n      var text = void 0;\n\n      if (addQuotes) {\n        text = '\\t\\t\\t\\t\\t' + '“' + sourceText + '”';\n      } else {\n        text = '\\t\\t\\t\\t\\t' + sourceText;\n      }\n\n      var quote = new createjs.Text(text, fontSize + 'px georgia', '#ffffff');\n\n      quote.textBaseline = \"alphabetic\";\n      quote.x = 50;\n      quote.y = 100;\n      quote.lineWidth = 1100;\n      quote.lineHeight = fontSize * 1.7;\n\n      this.stage.addChild(quote);\n      this.update();\n    }\n  }, {\n    key: 'addTitle',\n    value: function addTitle(titleText) {\n      var title = new createjs.Text(titleText, \"23px helvetica, sans-serif\", \"#ffffff\");\n      title.textBaseline = \"alphabetic\";\n      title.x = 200;\n      title.y = 627 - 85;\n      title.lineWidth = 1000;\n      title.lineHeight = 30;\n\n      this.stage.addChild(title);\n      this.update();\n    }\n  }, {\n    key: 'addUrl',\n    value: function addUrl(urlLink) {\n      var url = new createjs.Text(urlLink, \"14px helvetica, sans-serif\", \"#ffffff\");\n      url.textBaseline = \"alphabetic\";\n      url.x = 200;\n      url.y = 627 - 55;\n      url.lineWidth = 1000;\n      url.lineHeight = 30;\n\n      this.stage.addChild(url);\n      this.update();\n    }\n  }, {\n    key: 'addCenteredText',\n    value: function addCenteredText(sourceText, fontSize, addQuotes) {\n      var rawtext = void 0;\n\n      if (addQuotes) {\n        rawtext = '“' + sourceText + '”';\n      } else {\n        rawtext = sourceText;\n      }\n\n      var text = new createjs.Text(rawtext, 'bold ' + fontSize + 'px helvetica, sans-serif', '#ffffff');\n\n      text.textAlign = 'center';\n      text.textBaseline = 'middle';\n      text.lineWidth = this.canvas.width - 200;\n      text.lineHeight = fontSize * 1.3;\n\n      var bounds = text.getBounds();\n\n      text.x = this.canvas.width / 2;\n      text.y = this.canvas.width / 2 - bounds.height / 2;\n\n      this.stage.addChild(text);\n      this.update();\n    }\n  }, {\n    key: 'addNovaraDotMedia',\n    value: function addNovaraDotMedia() {\n      var tagUrl = new createjs.Text('NOVARA.MEDIA', 'bold ' + '40px helvetica, sans-serif', '#ffffff');\n\n      tagUrl.textAlign = 'right';\n      tagUrl.textBaseline = 'hanging';\n\n      var bounds = tagUrl.getBounds();\n\n      tagUrl.lineWidth = bounds.width;\n\n      tagUrl.x = this.canvas.width - 40;\n      tagUrl.y = 40;\n\n      this.stage.addChild(tagUrl);\n      this.update();\n    }\n  }, {\n    key: 'addLogo',\n    value: function addLogo(scale) {\n      var _this4 = this;\n\n      var image = new Image();\n      image.src = ShareableVars.pluginurl + '/admin/img/nm-white-logo.svg';\n\n      image.onload = function (event) {\n        var logo = new createjs.Bitmap(event.target);\n\n        var bounds = logo.getBounds();\n\n        logo.scaleX = scale;\n        logo.scaleY = scale;\n\n        logo.x = 50;\n        logo.y = _this4.canvas.height - (bounds.height * scale + 50);\n\n        logo.rotation = -3.15;\n\n        _this4.stage.addChild(logo);\n\n        _this4.update();\n      };\n    }\n  }]);\n\n  return ShareableCanvas;\n}();\n\n;"]}